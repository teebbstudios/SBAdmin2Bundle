/*!
 * Start Bootstrap - SB Admin 2 Bundle v4.0.4 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function($){"use strict";var urlUtil={analyseUrl:function(e){var n=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(e),o=new Object;return $.each(["url","scheme","slash","host","port","path","query","hash"],function(e,t){o[t]=n[e]}),o},hasParameter:function(e,t){var n=this.analyseUrl(e).query;if(void 0===n)return null;var o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=n.match(o);return null!=i?unescape(i[2]):""},addParameter:function(e,t,n){var o=t+"="+n;return e.match("[?]")?e+"&"+o:e+"?"+o},replaceParameter:function(url,name,value){var newUrl=url;if(this.hasParameter(url,name)){var replacedPar=eval("/("+name+"=)([^&]*)/gi");newUrl=url.replace(replacedPar,name+"="+value)}else newUrl=this.addParameter(url,name,value);return newUrl}};$("#sidebarToggle, #sidebarToggleTop").on("click",function(e){$("body").toggleClass("sidebar-toggled");var t=$(".sidebar");t.toggleClass("toggled"),t.hasClass("toggled")&&$(".sidebar .collapse").collapse("hide")}),$(window).resize(function(){$(window).width()<768&&$(".sidebar .collapse").collapse("hide")}),$("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){if(768<$(window).width()){var t=e.originalEvent,n=t.wheelDelta||-t.detail;this.scrollTop+=30*(n<0?1:-1),e.preventDefault()}}),$(document).on("scroll",function(){100<$(this).scrollTop()?$(".scroll-to-top").fadeIn():$(".scroll-to-top").fadeOut()}),$(document).on("click","a.scroll-to-top",function(e){var t=$(this);$("html, body").stop().animate({scrollTop:$(t.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()}),$(document).on("click",".card table thead input[type=checkbox].check-all",function(e){var t=$(this).closest("table").find("tbody tr td input[type=checkbox]");$.each(t,function(e,t){$(t).prop("checked",!$(t).prop("checked"))})}),$(document).on("click","a.btn-delete-content",function(e){e.preventDefault(),e.stopPropagation(),Swal.fire({title:"您将要删除内容!",text:"删除操作不可恢复，确定要删除吗？",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(e){e.value&&Swal.fire({title:"删除成功!",text:"内容已经删除成功.",type:"success",confirmButtonText:"确定"})})}),$(document).on("input","input[type=text].transliterate",function(e){var t=$(this).val(),n=$(this).closest("div.form-row"),o=slugify(t).replace(/-/gi,"_");n.find("span.text-alias").text(o),n.find("input[type=hidden].input-alias").val(o),n.find("div.form-alias").removeClass("d-none")}),$(document).on("click","a.js-modify-alias",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).closest("div.form-alias");t.removeClass("form-inline"),t.find("div.text-alias-wrapper").addClass("d-none"),t.find("div.input-alias-wrapper").removeClass("d-none"),t.find("input[type=hidden].input-alias").attr("type","text"),t.find("div.small.text-muted").removeClass("d-none")}),$(document).on("change","div.select-field-form select",function(e){$(this).closest("div.form-row").closest("div.select-field-form").find("div.field-info").removeClass("d-none")}),$(document).on("change","select#select_field_limit",function(e){var t=$(this).closest("div.select-field-limit");"-1"===$(this).val()&&(t.find("input[type=number].input-field-limit").attr("disabled","disabled"),t.find("input[type=number].input-field-limit").addClass("d-none")),"limit"===$(this).val()&&(t.find("input[type=number].input-field-limit").removeAttr("disabled"),t.find("input[type=number].input-field-limit").removeClass("d-none"))}),$(document).on("click","a.btn-delete-field",function(e){e.preventDefault(),e.stopPropagation(),Swal.fire({title:"您将要删除字段!",text:"删除后该字段保存的内容都将删除。删除操作不可恢复，确定要删除吗？",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(e){e.value&&Swal.fire({title:"删除成功!",text:"字段已经删除成功.",type:"success",confirmButtonText:"确定"})})}),$(document).on("input","input[type=text].input-allow-extension-name",function(e){var t=$(this).val().replace(/[，| |\-|_|\－]/,",");$(this).val(t)}),$(document).on("click","a.js-sortable",function(e){e.preventDefault(),e.stopPropagation()}),$(document).ready(function(){$(".bootstrap-select .bs-searchbox input").addClass("form-control-sm")}),$('.js-add-menu-item a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=$(e.target),n=$(e.relatedTarget);t.addClass("bg-gray-100 border-bottom-gray-100"),n.removeClass("bg-gray-100 border-bottom-gray-100")}),$(".dd-item .accordion-arrow").on("click",function(e){$(e.target).closest(".dd-item").find(".collapse").collapse("toggle")}),$("td.js-comment-td").hover(function(e){$(e.target).find(".comment-option").css("left","0px")},function(e){$(e.target).find(".comment-option").css("left","-9999em")}),$("button#edit_comment_time_btn").on("click",function(e){var t=$(e.target).closest(".comment-time").find("input#comment_time");console.log(t),t.removeAttr("disabled"),$(e.target).hide()}),$("#select_page_limit").change(function(){var e=$(this).val(),t=window.location.href,n=urlUtil.replaceParameter(t,"limit",e);window.location.replace(n)})}(jQuery);